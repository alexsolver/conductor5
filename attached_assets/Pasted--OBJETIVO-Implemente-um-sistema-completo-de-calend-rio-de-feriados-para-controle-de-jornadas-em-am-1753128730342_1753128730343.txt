üéØ OBJETIVO
Implemente um sistema completo de calend√°rio de feriados para controle de jornadas em ambiente multilocation, permitindo gerenciar feriados nacionais, regionais e corporativos por pa√≠s/regi√£o.

üìã ESPECIFICA√á√ïES T√âCNICAS
1. ESTRUTURA DE TABELAS (Schema)
Crie tabela holidays no schema tenant com campos:
id (UUID primary key)
name (varchar 255) - Nome do feriado
date (date) - Data do feriado
type (enum: 'national', 'regional', 'corporate', 'optional')
countryCode (varchar 3) - C√≥digo ISO do pa√≠s
regionCode (varchar 10) - C√≥digo da regi√£o/estado (opcional)
isRecurring (boolean) - Se repete anualmente
isActive (boolean) - Status ativo/inativo
description (text) - Descri√ß√£o opcional
createdAt, updatedAt - Campos de auditoria
2. BACKEND - API REST
Endpoint GET /api/holidays - Listar feriados por pa√≠s/regi√£o/ano
Endpoint POST /api/holidays - Criar novo feriado
Endpoint PUT /api/holidays/:id - Atualizar feriado
Endpoint DELETE /api/holidays/:id - Remover feriado
Endpoint GET /api/holidays/check/:date - Verificar se data √© feriado
Endpoint POST /api/holidays/import - Importar feriados de APIs externas
3. CONTROLLER E REPOSITORY
Crie HolidayController.ts em server/routes/
Implemente DrizzleHolidayRepository.ts para opera√ß√µes de banco
Adicione valida√ß√µes de sobreposi√ß√£o de feriados
Integre com sistema de multilocation existente
4. FRONTEND - Interface de Gest√£o
P√°gina Holidays.tsx em client/src/pages/
Componente calend√°rio visual para visualizar feriados
Modal para criar/editar feriados
Filtros por pa√≠s, regi√£o, tipo de feriado
Import/export de feriados em CSV/JSON
Integra√ß√£o com calend√°rio de escalas de trabalho
5. INTEGRA√á√ÉO COM TIMECARD
Modifique WorkSchedules.tsx para considerar feriados
Atualize c√°lculo de banco de horas para descontar feriados
Implemente alertas para conflitos feriado vs escala
Adicione valida√ß√£o de ponto em feriados
6. MULTILOCATION SUPPORT
Configure feriados espec√≠ficos por mercado (BR, US, etc.)
Implemente heran√ßa: feriados nacionais ‚Üí regionais ‚Üí corporativos
Suporte a diferentes calend√°rios (Gregoriano, Lunar, etc.)
API de feriados externos (Google Calendar, timeanddate.com)
üöÄ COMANDOS DE EXECU√á√ÉO
Ordem de Implementa√ß√£o:
Schema: Adicione tabela holidays ao schema-master.ts
Repository: Crie DrizzleHolidayRepository com CRUD completo
Controller: Implemente HolidayController com todos endpoints
Routes: Configure rotas em routes.ts
Frontend: Desenvolva p√°gina Holidays.tsx
Integra√ß√£o: Conecte com WorkSchedules e Timecard
Testing: Valide com dados reais de feriados brasileiros
Valida√ß√µes Obrigat√≥rias:
‚úÖ Feriados n√£o podem se sobrepor para mesmo pa√≠s/regi√£o
‚úÖ Data deve ser v√°lida e n√£o pode ser passada para feriados ativos
‚úÖ Integra√ß√£o com sistema de permiss√µes (apenas admins criam feriados)
‚úÖ Suporte a fusos hor√°rios diferentes por regi√£o
‚úÖ Fallback para feriados quando APIs externas falham
üìä ENTREG√ÅVEIS ESPERADOS
Schema atualizado com tabela holidays
API REST completa para gest√£o de feriados
Interface frontend para administra√ß√£o
Integra√ß√£o com controle de jornadas
Suporte multilocation com heran√ßa de feriados
Documenta√ß√£o de uso e APIs externas suportadas
Execute na sequ√™ncia: Schema ‚Üí Backend ‚Üí Frontend ‚Üí Integra√ß√£o ‚Üí Testes

### Tabela: customers
- id (uuid, PK)
- tenant_id (uuid)
- first_name (varchar 255)
- last_name (varchar 255)
- email (varchar 255)
- phone (varchar 20)
- mobile_phone (varchar 20)
- customer_type (customer_type_enum: 'PF', 'PJ')
- cpf (varchar 14)
- cnpj (varchar 18)
- company_name (varchar 255)
- contact_person (varchar 255)
- address_street (varchar 255)
- address_number (varchar 20)
- address_complement (varchar 100)
- address_neighborhood (varchar 100)
- address_city (varchar 100)
- address_state (varchar 2)
- address_zip_code (varchar 10)
- address_country (varchar 100, default 'Brasil')
- is_active (boolean, default true)
- verified (boolean, default false)
- tags (jsonb, default [])
- metadata (jsonb, default {})
- created_at (timestamp)
- updated_at (timestamp)
- created_by_id (uuid)
- updated_by_id (uuid)

### Tabela: companies
- id (uuid, PK)
- tenant_id (uuid)
- name (varchar 255)
- cnpj (varchar 18)
- email (varchar 255)
- phone (varchar 20)
- address_street (varchar 255)
- address_number (varchar 20)
- address_complement (varchar 100)
- address_neighborhood (varchar 100)
- address_city (varchar 100)
- address_state (varchar 2)
- address_zip_code (varchar 10)
- is_active (boolean, default true)
- created_at (timestamp)
- updated_at (timestamp)
- metadata (jsonb, default {})

### Tabela: beneficiaries
- id (uuid, PK)
- tenant_id (uuid)
- name (varchar 255)
- cpf (varchar 14)
- cnpj (varchar 18)
- email (varchar 255)
- phone (varchar 20)
- is_active (boolean, default true)
- created_at (timestamp)
- updated_at (timestamp)
- metadata (jsonb, default {})

### Tabela: tickets
- id (uuid, PK)
- tenant_id (uuid)
- ticket_number (varchar 50, unique)
- title (varchar 255)
- description (text)
- status (ticket_status_enum)
- priority (ticket_priority_enum)
- category (varchar 100)
- subcategory (varchar 100)
- customer_id (uuid, FK -> customers.id)
- assigned_to (uuid, FK -> users.id)
- company_id (uuid, FK -> companies.id)
- location_id (uuid, FK -> locations.id)
- estimated_hours (decimal)
- actual_hours (decimal)
- due_date (timestamp)
- resolution_date (timestamp)
- satisfaction_rating (integer)
- satisfaction_comment (text)
- tags (jsonb, default [])
- custom_fields (jsonb, default {})
- metadata (jsonb, default {})
- created_at (timestamp)
- updated_at (timestamp)
- created_by_id (uuid)
- updated_by_id (uuid)
- template_name (varchar 255)
- template_alternative (varchar 255)
- is_active (boolean, default true)

### Tabela: ticket_planned_items
- id (uuid, PK)
- tenant_id (uuid)
- ticket_id (uuid, FK -> tickets.id)
- item_id (uuid, FK -> items.id)
- quantity_planned (decimal)
- unit_cost (decimal)
- total_cost (decimal)
- notes (text)
- created_at (timestamp)
- updated_at (timestamp)

### Tabela: ticket_consumed_items
- id (uuid, PK)
- tenant_id (uuid)
- ticket_id (uuid, FK -> tickets.id)
- item_id (uuid, FK -> items.id)
- quantity_consumed (decimal)
- unit_cost (decimal)
- total_cost (decimal)
- consumed_at (timestamp)
- consumed_by (uuid, FK -> users.id)
- notes (text)
- created_at (timestamp)
- updated_at (timestamp)

### Tabela: items
- id (uuid, PK)
- tenant_id (uuid)
- code (varchar 50, unique)
- name (varchar 255)
- description (text)
- type (item_type_enum)
- category (varchar 100)
- subcategory (varchar 100)
- unit_of_measurement (measurement_unit_enum)
- unit_cost (decimal)
- stock_quantity (decimal)
- minimum_stock (decimal)
- maximum_stock (decimal)
- supplier_id (uuid)
- brand (varchar 100)
- model (varchar 100)
- specifications (jsonb, default {})
- is_active (boolean, default true)
- created_at (timestamp)
- updated_at (timestamp)
- metadata (jsonb, default {})

### Tabela: customer_item_mappings
- id (uuid, PK)
- tenant_id (uuid)
- customer_id (uuid, FK -> customers.id)
- item_id (uuid, FK -> items.id)
- customer_item_code (varchar 100)
- customer_item_name (varchar 255)
- customer_item_description (text)
- unit_price (decimal)
- is_active (boolean, default true)
- created_at (timestamp)
- updated_at (timestamp)
- metadata (jsonb, default {})

### Tabela: locations
- id (uuid, PK)
- tenant_id (uuid)
- name (varchar 255)
- type (location_type_enum)
- code (varchar 50)
- description (text)
- address_street (varchar 255)
- address_number (varchar 20)
- address_complement (varchar 100)
- address_neighborhood (varchar 100)
- address_city (varchar 100)
- address_state (varchar 2)
- address_zip_code (varchar 10)
- latitude (decimal)
- longitude (decimal)
- parent_location_id (uuid, FK -> locations.id)
- is_active (boolean, default true)
- created_at (timestamp)
- updated_at (timestamp)
- metadata (jsonb, default {})

### Tabela: user_groups
- id (uuid, PK)
- tenant_id (uuid)
- name (varchar 255)
- description (text)
- permissions (jsonb, default {})
- is_active (boolean, default true)
- created_at (timestamp)
- updated_at (timestamp)

### Tabela: activity_logs
- id (uuid, PK)
- tenant_id (uuid)
- user_id (uuid, FK -> users.id)
- action (varchar 100)
- entity_type (varchar 50)
- entity_id (uuid)
- old_values (jsonb)
- new_values (jsonb)
- ip_address (varchar 45)
- user_agent (text)
- created_at (timestamp)
- metadata (jsonb, default {})


### Tabela: approval_rules
- id (uuid, PK)
- tenant_id (uuid)
- name (varchar 255)
- description (text)
- module_type (approval_entity_type_enum)
- entity_type (varchar 100)
- query_conditions (jsonb)
- approval_steps (jsonb)
- sla_hours (integer, default 24)
- business_hours_only (boolean, default true)
- auto_approval_conditions (jsonb, default {})
- escalation_settings (jsonb, default {})
- company_id (uuid, FK -> customers.id)
- is_active (boolean, default true)
- priority (integer, default 0)
- created_by_id (uuid)
- updated_by_id (uuid)
- created_at (timestamp)
- updated_at (timestamp)

### Tabela: approval_instances
- id (uuid, PK)
- tenant_id (uuid)
- rule_id (uuid, FK -> approval_rules.id)
- entity_id (uuid)
- entity_type (varchar 100)
- current_step_index (integer, default 0)
- status (varchar 20, default 'pending')
- requested_by_id (uuid)
- sla_deadline (timestamp)
- metadata (jsonb, default {})
- created_at (timestamp)
- completed_at (timestamp)
- updated_at (timestamp)

### Tabela: approval_decisions
- id (uuid, PK)
- tenant_id (uuid)
- instance_id (uuid, FK -> approval_instances.id)
- step_index (integer)
- approver_id (uuid)
- decision (varchar 20) -- approved, rejected, delegated
- comments (text)
- metadata (jsonb, default {})
- created_at (timestamp)

### Tabela: approval_steps
- id (uuid, PK)
- tenant_id (uuid)
- rule_id (uuid, FK -> approval_rules.id)
- step_index (integer)
- name (varchar 255)
- approver_type (approver_type_enum)
- approvers (jsonb)
- required_approvals (integer, default 1)
- timeout_hours (integer, default 24)
- escalation_rules (jsonb, default {})
- created_at (timestamp)
- updated_at (timestamp)

### Tabela: approval_conditions
- id (uuid, PK)
- tenant_id (uuid)
- rule_id (uuid, FK -> approval_rules.id)
- field_name (varchar 100)
- operator (query_operator_enum)
- value (jsonb)
- logical_operator (varchar 10, default 'AND')
- group_index (integer, default 0)
- created_at (timestamp)

### Tabela: approval_workflows
- id (uuid, PK)
- tenant_id (uuid)
- name (varchar 255)
- description (text)
- module_type (approval_entity_type_enum)
- workflow_steps (jsonb)
- is_active (boolean, default true)
- created_by_id (uuid)
- created_at (timestamp)
- updated_at (timestamp)


### Tabela: knowledge_base_articles
- id (uuid, PK)
- tenant_id (uuid)
- title (varchar 500)
- content (text)
- excerpt (text)
- author_id (uuid)
- category (knowledge_base_category_enum)
- status (knowledge_base_status_enum)
- visibility (knowledge_base_visibility_enum)
- approval_status (knowledge_base_approval_status_enum)
- tags (jsonb, default [])
- view_count (integer, default 0)
- helpful_count (integer, default 0)
- not_helpful_count (integer, default 0)
- featured (boolean, default false)
- seo_title (varchar 255)
- seo_description (varchar 500)
- slug (varchar 500, unique)
- published_at (timestamp)
- archived_at (timestamp)
- metadata (jsonb, default {})
- created_at (timestamp)
- updated_at (timestamp)

### Tabela: knowledge_base_article_versions
- id (uuid, PK)
- tenant_id (uuid)
- article_id (uuid, FK -> knowledge_base_articles.id)
- version_number (integer)
- title (varchar 500)
- content (text)
- author_id (uuid)
- change_summary (text)
- created_at (timestamp)

### Tabela: knowledge_base_attachments
- id (uuid, PK)
- tenant_id (uuid)
- article_id (uuid, FK -> knowledge_base_articles.id)
- filename (varchar 255)
- original_filename (varchar 255)
- file_path (varchar 500)
- file_size (integer)
- mime_type (varchar 100)
- alt_text (varchar 255)
- created_at (timestamp)

### Tabela: knowledge_base_ratings
- id (uuid, PK)
- tenant_id (uuid)
- article_id (uuid, FK -> knowledge_base_articles.id)
- user_id (uuid)
- rating (integer) -- 1-5 stars
- is_helpful (boolean)
- feedback (text)
- created_at (timestamp)

### Tabela: knowledge_base_approvals
- id (uuid, PK)
- tenant_id (uuid)
- article_id (uuid, FK -> knowledge_base_articles.id)
- approver_id (uuid)
- status (varchar 20)
- comments (text)
- approved_at (timestamp)
- created_at (timestamp)

### Tabela: knowledge_base_comments
- id (uuid, PK)
- tenant_id (uuid)
- article_id (uuid, FK -> knowledge_base_articles.id)
- author_id (uuid)
- content (text)
- parent_comment_id (uuid, FK -> knowledge_base_comments.id)
- is_internal (boolean, default false)
- status (varchar 20, default 'published')
- created_at (timestamp)
- updated_at (timestamp)

### Tabela: knowledge_base_templates
- id (uuid, PK)
- tenant_id (uuid)
- name (varchar 255)
- description (text)
- template_content (text)
- fields (jsonb, default {})
- category (knowledge_base_category_enum)
- is_active (boolean, default true)
- created_by_id (uuid)
- created_at (timestamp)
- updated_at (timestamp)

---


### Tabela: notifications
- id (uuid, PK)
- tenant_id (uuid)
- user_id (uuid)
- title (varchar 255)
- message (text)
- type (notification_type_enum)
- priority (notification_priority_enum)
- channel (notification_channel_enum)
- status (notification_status_enum)
- scheduled_for (timestamp)
- sent_at (timestamp)
- read_at (timestamp)
- metadata (jsonb, default {})
- created_at (timestamp)

### Tabela: user_notification_preferences
- id (uuid, PK)
- tenant_id (uuid)
- user_id (uuid, FK -> users.id)
- email_enabled (boolean, default true)
- sms_enabled (boolean, default false)
- push_enabled (boolean, default true)
- in_app_enabled (boolean, default true)
- frequency (varchar 20, default 'immediate')
- quiet_hours_start (time)
- quiet_hours_end (time)
- categories (jsonb, default {})
- created_at (timestamp)
- updated_at (timestamp)

### Tabela: notification_templates
- id (uuid, PK)
- tenant_id (uuid)
- name (varchar 255)
- subject_template (varchar 255)
- body_template (text)
- type (notification_type_enum)
- channel (notification_channel_enum)
- variables (jsonb, default {})
- is_active (boolean, default true)
- created_at (timestamp)
- updated_at (timestamp)

### Tabela: schedule_notifications
- id (uuid, PK)
- tenant_id (uuid)
- user_id (uuid)
- title (varchar 255)
- description (text)
- scheduled_date (timestamp)
- type (varchar 50)
- status (varchar 20, default 'scheduled')
- metadata (jsonb, default {})
- created_at (timestamp)
- updated_at (timestamp)


### Tabela: reports
- id (uuid, PK)
- tenant_id (uuid)
- name (varchar 255)
- description (text)
- query_definition (jsonb)
- visualization_config (jsonb)
- parameters (jsonb, default {})
- schedule (jsonb)
- is_public (boolean, default false)
- created_by_id (uuid)
- updated_by_id (uuid)
- created_at (timestamp)
- updated_at (timestamp)

### Tabela: dashboards
- id (uuid, PK)
- tenant_id (uuid)
- name (varchar 255)
- description (text)
- layout_config (jsonb)
- widgets (jsonb, default [])
- permissions (jsonb, default {})
- is_public (boolean, default false)
- created_by_id (uuid)
- updated_by_id (uuid)
- created_at (timestamp)
- updated_at (timestamp)

### Tabela: dashboard_widgets
- id (uuid, PK)
- tenant_id (uuid)
- dashboard_id (uuid, FK -> dashboards.id)
- widget_type (varchar 50)
- title (varchar 255)
- configuration (jsonb)
- data_source (jsonb)
- position (jsonb)
- size (jsonb)
- is_active (boolean, default true)
- created_at (timestamp)
- updated_at (timestamp)


### Tabela: suppliers
- id (uuid, PK)
- tenant_id (uuid)
- name (varchar 255)
- cnpj (varchar 18)
- contact_person (varchar 255)
- email (varchar 255)
- phone (varchar 20)
- address (jsonb)
- is_active (boolean, default true)
- rating (decimal)
- payment_terms (varchar 100)
- metadata (jsonb, default {})
- created_at (timestamp)
- updated_at (timestamp)

### Tabela: stock_locations
- id (uuid, PK)
- tenant_id (uuid)
- name (varchar 255)
- code (varchar 50)
- type (varchar 50)
- parent_location_id (uuid, FK -> stock_locations.id)
- address (jsonb)
- is_active (boolean, default true)
- metadata (jsonb, default {})
- created_at (timestamp)
- updated_at (timestamp)

### Tabela: stock_levels
- id (uuid, PK)
- tenant_id (uuid)
- item_id (uuid, FK -> items.id)
- location_id (uuid, FK -> stock_locations.id)
- quantity_available (decimal)
- quantity_reserved (decimal)
- quantity_on_order (decimal)
- last_updated (timestamp)
- created_at (timestamp)

### Tabela: stock_movements
- id (uuid, PK)
- tenant_id (uuid)
- item_id (uuid, FK -> items.id)
- location_id (uuid, FK -> stock_locations.id)
- movement_type (movement_type_enum)
- quantity (decimal)
- unit_cost (decimal)
- reference_id (uuid)
- reference_type (varchar 50)
- notes (text)
- performed_by (uuid, FK -> users.id)
- performed_at (timestamp)
- created_at (timestamp)

### Tabela: price_lists
- id (uuid, PK)
- tenant_id (uuid)
- name (varchar 255)
- description (text)
- currency (varchar 3, default 'BRL')
- is_active (boolean, default true)
- valid_from (timestamp)
- valid_until (timestamp)
- created_by_id (uuid)
- created_at (timestamp)
- updated_at (timestamp)

### Tabela: price_list_items
- id (uuid, PK)
- tenant_id (uuid)
- price_list_id (uuid, FK -> price_lists.id)
- item_id (uuid, FK -> items.id)
- unit_price (decimal)
- minimum_quantity (decimal)
- discount_percentage (decimal)
- markup_percentage (decimal)
- is_active (boolean, default true)
- created_at (timestamp)
- updated_at (timestamp)


### Tabela: gdpr_data_requests
- id (uuid, PK)
- tenant_id (uuid)
- request_type (gdpr_request_type_enum)
- subject_email (varchar 255)
- subject_name (varchar 255)
- description (text)
- status (gdpr_status_enum)
- requested_at (timestamp)
- processed_at (timestamp)
- processed_by_id (uuid)
- response_data (jsonb)
- metadata (jsonb, default {})
- created_at (timestamp)
- updated_at (timestamp)

### Tabela: gdpr_consent_records
- id (uuid, PK)
- tenant_id (uuid)
- user_id (uuid)
- consent_type (varchar 100)
- purpose (text)
- legal_basis (varchar 100)
- granted (boolean)
- granted_at (timestamp)
- withdrawn_at (timestamp)
- ip_address (varchar 45)
- user_agent (text)
- created_at (timestamp)

### Tabela: gdpr_audit_logs
- id (uuid, PK)
- tenant_id (uuid)
- action (varchar 100)
- entity_type (varchar 50)
- entity_id (uuid)
- performed_by_id (uuid)
- details (jsonb)
- ip_address (varchar 45)
- created_at (timestamp)


### Tabela: contracts
- id (uuid, PK)
- tenant_id (uuid)
- contract_number (varchar 100, unique)
- title (varchar 255)
- description (text)
- type (contract_type_enum)
- status (contract_status_enum)
- priority (contract_priority_enum)
- customer_id (uuid, FK -> customers.id)
- company_id (uuid, FK -> companies.id)
- start_date (timestamp)
- end_date (timestamp)
- value (decimal)
- currency (varchar 3, default 'BRL')
- payment_terms (text)
- renewal_type (renewal_type_enum)
- auto_renewal (boolean, default false)
- notice_period_days (integer)
- created_by_id (uuid)
- updated_by_id (uuid)
- created_at (timestamp)
- updated_at (timestamp)
- metadata (jsonb, default {})

### Tabela: contract_documents
- id (uuid, PK)
- tenant_id (uuid)
- contract_id (uuid, FK -> contracts.id)
- document_name (varchar 255)
- document_type (document_type_enum)
- file_path (varchar 500)
- file_size (integer)
- mime_type (varchar 100)
- version (varchar 20)
- is_signed (boolean, default false)
- uploaded_by_id (uuid)
- uploaded_at (timestamp)
- created_at (timestamp)

### Tabela: omnibridge_channels
- id (varchar 36, PK)
- tenant_id (varchar 36)
- integration_id (varchar 100)
- name (varchar 255)
- type (varchar 50)
- status (varchar 20, default 'inactive')
- config (jsonb, default {})
- features (jsonb, default [])
- description (text)
- icon (varchar 50)
- last_sync (timestamp)
- metrics (jsonb, default {})
- metadata (jsonb, default {})
- created_at (timestamp)
- updated_at (timestamp)

### Tabela: omnibridge_messages
- id (varchar 36, PK)
- tenant_id (varchar 36)
- channel_id (varchar 36)
- channel_type (varchar 50)
- from_address (text)
- to_address (text)
- subject (text)
- content (text)
- timestamp (timestamp)
- status (varchar 20, default 'unread')
- priority (varchar 20, default 'medium')
- tags (jsonb, default [])
- attachments (integer, default 0)
- metadata (jsonb, default {})
- created_at (timestamp)
- updated_at (timestamp)

### Tabela: omnibridge_chatbots
- id (varchar 36, PK)
- tenant_id (varchar 36)
- name (varchar 255)
- description (text)
- configuration (jsonb, default {})
- is_enabled (boolean, default true)
- created_at (timestamp)
- updated_at (timestamp)
- created_by (varchar 36)
- updated_by (varchar 36)


### Tabela: timecard_entries
- id (uuid, PK)
- tenant_id (uuid)
- user_id (uuid, FK -> users.id)
- date (date)
- clock_in (timestamp)
- clock_out (timestamp)
- break_start (timestamp)
- break_end (timestamp)
- total_hours (decimal)
- overtime_hours (decimal)
- status (varchar 20, default 'pending')
- location_id (uuid)
- notes (text)
- approved_by_id (uuid)
- approved_at (timestamp)
- created_at (timestamp)
- updated_at (timestamp)

### Tabela: work_schedules
- id (uuid, PK)
- tenant_id (uuid)
- user_id (uuid, FK -> users.id)
- name (varchar 255)
- schedule_type (varchar 50)
- start_time (time)
- end_time (time)
- break_duration (integer) -- em minutos
- days_of_week (jsonb) -- array de dias da semana
- is_active (boolean, default true)
- effective_from (date)
- effective_until (date)
- created_at (timestamp)
- updated_at (timestamp)


Pasted-Pasted-Funcionalidades-de-Visualiza-o-Mapa-Interativo-zoom-arrastar-camadas-personaliz-veis-175591-1755916940615_1755916940616.txt
Pasted--Funcionalidades-de-Visualiza-o-Mapa-Interativo-zoom-arrastar-camadas-personaliz-veis--1755915546901_1755915546901.txt
üîé Funcionalidades de Visualiza√ß√£o
	‚Ä¢	Mapa Interativo (zoom, arrastar, camadas personaliz√°veis).
	‚Ä¢	Localiza√ß√£o com filtros de sele√ß√£o em tempo real de tickets, equipes, clientes ou ativos monitorados.
	‚Ä¢	Filtro por status (em andamento, atrasado, resolvido, pendente).
	‚Ä¢	Clusters/agrupamento para locais pr√≥ximos (evita polui√ß√£o visual).
	‚Ä¢	Heatmaps de concentra√ß√£o de chamados/ocorr√™ncias.
	‚Ä¢	Camadas externas:
	‚Ä¢	Tr√¢nsito ‚Üí colora√ß√£o de vias e impacto em rotas/ETA.
	‚Ä¢	Clima ‚Üí sobreposi√ß√£o de dados meteorol√≥gicos (chuva, tempestade, temperatura).
	‚Ä¢	Regi√µes e √°reas: integra√ß√£o com o m√≥dulo de locais (geofencing, zonas de cobertura, SLA por local).

‚∏ª

üìç Funcionalidades Operacionais
	‚Ä¢	Clique em ponto/local ‚Üí abre detalhes (ticket, cliente, SLA, hor√°rio de funcionamento).
	‚Ä¢	Busca geogr√°fica (CEP, endere√ßo, cliente, nome do local).
	‚Ä¢	Filtros din√¢micos (por equipe, prioridade, tipo de servi√ßo, tempo de SLA).
	‚Ä¢	Atualiza√ß√£o autom√°tica em tempo real sem recarregar a p√°gina.
	‚Ä¢	Notifica√ß√µes visuais no mapa (piscando progressivamente quando SLA se aproxima do vencimento).

‚∏ª

üë∑ Exibi√ß√£o de Agentes de Campo

1) Marcadores e Identidade Visual
	‚Ä¢	√çcone do agente: avatar circular + borda por status.
	‚Ä¢	Dire√ß√£o/heading: seta sutil indicando rumo (bearing GPS).
	‚Ä¢	Precis√£o de GPS: halo semitransparente conforme accuracy.

2) Estados e Regras de Cores
	‚Ä¢	Dispon√≠vel ‚Üí verde (#24B47E).
	‚Ä¢	Em tr√¢nsito ‚Üí azul (#2F80ED).
	‚Ä¢	Em atendimento ‚Üí amarelo (#F2C94C).
	‚Ä¢	Pausa/indispon√≠vel ‚Üí lil√°s (#9B51E0).
	‚Ä¢	SLA em risco/estourado ‚Üí vermelho (#EB5757) com pulso a cada 3s.
	‚Ä¢	Offline (‚â• X min sem ping) ‚Üí cinza (#BDBDBD), label ‚Äúlast seen hh:mm‚Äù.

Regra: se agente estiver vinculado a ticket com SLA por local ‚Üí
fora do hor√°rio de funcionamento = status normal;
dentro do hor√°rio + ETA > tempo restante de SLA = ‚ÄúSLA em risco‚Äù.

3) Tooltip/Callout ao clicar
	‚Ä¢	Header: nome, fun√ß√£o/equipe, foto.
	‚Ä¢	Status + tempo no status.
	‚Ä¢	Ticket atual (ID, cliente/local, SLA restante, janela de atendimento).
	‚Ä¢	ETA do destino atual.
	‚Ä¢	M√©tricas r√°pidas: dist√¢ncia, velocidade, sinal/bateria, √∫ltima atualiza√ß√£o.
	‚Ä¢	A√ß√µes r√°pidas: ‚ÄúVisualizar agenda do agente‚Äù, ‚ÄúReatribuir ticket‚Äù.

4) Trilhas e Rotas
	‚Ä¢	Hist√≥rico de posi√ß√µes (configur√°vel: ex. 2h/5km), com opacidade atenuada.
	‚Ä¢	Quebra de trilha quando n√£o h√° sinal.
	‚Ä¢	Rota ativa: linha de 2‚Äì3px, checkpoints.
	‚Ä¢	Compara√ß√£o ETA real vs. planejado (+/- min).

5) Filtros e Camadas aplicadas
	‚Ä¢	Por grupo ou habilidade (Ex.: El√©trica, Telecom).
	‚Ä¢	Por status.
	‚Ä¢	Por SLA (em risco, estourado, dentro).
	‚Ä¢	Por jornada de trabalho (considera calend√°rio do local).
	‚Ä¢	Por proximidade (raios: 500m, 1km, 5km).
	‚Ä¢	Heatmap de presen√ßa/atendimento.

6) Notifica√ß√µes visuais e operacionais
	‚Ä¢	Pulso/flash no marcador quando:
	‚Ä¢	SLA muda para risco.
	‚Ä¢	Agente come√ßa/termina atendimento.
	‚Ä¢	Queda de sinal, precis√£o ruim ou bateria < 15%.
	‚Ä¢	Banner discreto para eventos globais (ex.: tr√¢nsito severo).
	‚Ä¢	Toasts focados no agente (ex.: ‚ÄúETA recalculado: +7 min‚Äù).

7) Integra√ß√µes com Camadas Externas
	‚Ä¢	Tr√¢nsito: rotas coloridas conforme velocidade.
	‚Ä¢	Clima: √≠cone meteorol√≥gico em caso de alerta.
	‚Ä¢	Geofencing (m√≥dulo Locais): gerar eventos ao entrar/sair de √°reas (ex.: iniciar SLA).

8) Performance e Atualiza√ß√£o em Tempo Real
	‚Ä¢	Posi√ß√£o ‚Üí atualiza√ß√£o a cada 5‚Äì10s.
	‚Ä¢	ETA/rota ‚Üí atualiza√ß√£o a cada 30‚Äì60s ou on-change.
	‚Ä¢	Suporte a >1.000 agentes com virtualiza√ß√£o de marcadores e clustering din√¢mico.
	‚Ä¢	Delta updates (apenas diferen√ßas).
	‚Ä¢	Fallback ‚Üí polling 30s se socket cair.

9) Acessibilidade e UX
	‚Ä¢	Contraste AA e navega√ß√£o por teclado.
	‚Ä¢	Labels leg√≠veis a partir do zoom ‚â• 15.
	‚Ä¢	Legenda fixa com estados (cores/s√≠mbolos).
	‚Ä¢	Modo noturno conforme prefer√™ncia do usu√°rio.

10) Privacidade e Seguran√ßa
	‚Ä¢	Precis√£o reduzida fora do turno (jitter 100‚Äì200m).
	‚Ä¢	Ocultar trilhas fora da jornada de trabalho.
	‚Ä¢	Logs de auditoria: quem visualizou rota/posi√ß√£o de qual agente e quando.

11) Campos de Dados (modelo do agente)
	‚Ä¢	agent_id, name, photo_url, team, skills[].
	‚Ä¢	status, status_since.
	‚Ä¢	lat, lng, accuracy, heading, speed.
	‚Ä¢	device_battery, signal_strength, last_ping_at.
	‚Ä¢	assigned_ticket_id, customer_site_id, sla_deadline_at.
	‚Ä¢	shift_start_at, shift_end_at, is_on_duty.
	‚Ä¢	current_route_id, eta_seconds, distance_meters.

12) Regras Inteligentes
	‚Ä¢	Auto-status:
	‚Ä¢	velocidade > 5 km/h + rota ativa ‚Üí ‚ÄúEm tr√¢nsito‚Äù.
	‚Ä¢	parado > 3 min no destino ‚Üí ‚ÄúEm atendimento‚Äù.
	‚Ä¢	SLA em risco: eta_seconds > (sla_deadline_at - now) e local dentro do hor√°rio.
	‚Ä¢	Offline: sem last_ping_at ‚â• X min (configur√°vel).

13) Opera√ß√µes R√°pidas no Mapa
	‚Ä¢	Arrastar ticket ‚Üí agente (drag & drop) com preview de ETA.
	‚Ä¢	Sele√ß√£o m√∫ltipla (ret√¢ngulo/lasso) ‚Üí enviar mensagem ou redistribuir.

14) Logs e Hist√≥rico
	‚Ä¢	Replay de trajet√≥ria (time slider).
	‚Ä¢	Exporta√ß√£o de trajeto + eventos (CSV/GeoJSON/PDF).